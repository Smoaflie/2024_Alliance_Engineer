# DR motor

DR_PDA04默认CAN通信波特率为`250k`需自行通过库函数`set_can_baud_rate()`将其修改为`1M`

且该电机默认不开启状态实时回报，需使用库函数`enable_angle_speed_torque_state(uint8_t id_num)`和`set_state_feedback_rate_ms(uint8_t id_num, uint32_t n_ms)`将其启动

以上操作均可使用上位机完成

# 有必要提一下

已知对接收到的CAN数据包进行处理需要知道其CAN ID对应哪个回报函数，根据官方手册，大然电机通讯数据包帧ID（即CAN ID）由`电机ID << 5 + 命令ID`组成，且关节返回的数据包帧ID与发送的相同。

但状态实时反馈的操作不存在发送的数据包，也就无法确认返回数据包的帧ID。据官方人员所述，返回数据包的帧ID由`电机ID << 5 + 不确定的命令ID`组成，根据官方提供的库函数，是采用只判断`帧ID的第6-11位与电机ID相同`的方式将该数据包投入 实时状态数据包解析函数 内。

> 猜测是开启状态实时回报后，电机将不再发送其他数据包

现打算给CAN基础库增加个只判断部分位的功能，但感觉这种方式出问题的可能性很大，~~希望官方固件更新能将其修正~~官方表示之后不会修改

# TODO

直接使用官方的命令包能省下许多性能开销，需要测试下直接用**官方的位置控制接口**性能会不会更好